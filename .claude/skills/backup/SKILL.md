---
name: backup
description: Бэкап в GitHub — коммит и пуш всех изменений с осмысленным комментарием.
argument-hint: ["комментарий к коммиту"]
---

# Backup to GitHub

Сохранение текущего состояния рабочего пространства в GitHub-репозиторий.

## Когда вызывать

Этот скилл вызывается:
1. **Явно пользователем** — команда `/backup` или "запуши", "сохрани в гит"
2. **Автоматически Claude** — после значимых изменений (см. правило `auto-backup`)

## Процесс

### 1. Проверь статус
```bash
git status
```
Если нет изменений — сообщи пользователю и завершись.

### 2. Покажи что изменилось
```bash
git diff --stat
```
Кратко перечисли пользователю, какие файлы будут закоммичены.

### 3. Сформируй commit message
- Если пользователь передал аргумент — используй его как основу
- Если нет — сформируй автоматически на основе `git diff --stat`:
  - Формат: `<тип>: <краткое описание на русском>`
  - Типы: `update`, `add`, `fix`, `refactor`, `plan`, `docs`
  - Примеры:
    - `update: обновить бэклог — 5 новых задач`
    - `add: создать скилл backup и правило auto-backup`
    - `plan: декомпозиция проекта DTC на спринты`
    - `docs: обновить README и документацию по аналитике`

### 4. Выполни бэкап
```bash
git add -A
git commit -m "<commit message>"
git push origin main
```

### 5. Подтверди результат
Сообщи пользователю:
- Что закоммичено (кратко)
- Commit hash
- Что пуш выполнен успешно

## Обработка ошибок
- **Конфликт при push** — сообщи пользователю, не делай `force push`
- **Нет remote** — предложи настроить `git remote add origin`
- **Нет изменений** — сообщи "Нет изменений для бэкапа"
