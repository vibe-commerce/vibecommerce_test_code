---
name: price-elasticity
description: >
  Анализ ценовой эластичности спроса и оптимизация цен для e-commerce.
  Рассчитывает эластичность по цене (E), строит графики, определяет
  оптимальные цены для роста объёма/выручки/прибыли.

  Использовать когда нужно: (1) посчитать эластичность спроса по цене;
  (2) определить оптимальную цену товара; (3) понять, на какие товары
  можно поднять цену; (4) рассчитать цену для удвоения объёма;
  (5) репрайсинг, ценообразование, анализ чувствительности к цене;
  (6) график зависимости продаж от цены.

  Триггеры: эластичность, elasticity, репрайсинг, repricing, оптимальная цена,
  ценообразование, pricing, чувствительность к цене, зависимость продаж от цены.
---

# Price Elasticity — Анализ ценовой эластичности спроса

## Формат ответа

Следовать стандартному формату из CLAUDE.md:
Понятность задачи → Уверенность → Роль: E-commerce аналитик / ценообразование → TL;DR → Полный ответ.

## Рабочий процесс

### 1. Найти данные о продажах

Искать .xlsx файлы с данными о продажах в репозитории:
- Основной источник: `PRJ_MARKETPLACE/sales_data_v1.0.xlsx`
- Формат: лист "Продажи" с колонками: Неделя, SKU, Название, Категория, Площадка, Продажи (шт), Цена (₽)
- Лист "Каталог" с колонкой Себестоимость (₽) — для расчёта маржи

Если пользователь указал свой файл — использовать его.

### 2. Запустить скрипт анализа

```bash
uv run --with openpyxl --with matplotlib PRJ_PRICING/price_elasticity.py [путь_к_xlsx]
```

Скрипт:
- Считает эластичность по всем SKU с вариацией цен
- Строит 5 графиков в `PRJ_PRICING/reports/`
- Выводит таблицу и целевые цены для 2x объёма

### 3. Интерпретировать результаты

Загрузить `references/methodology.md` для деталей формул и интерпретации.

Ключевые пороги:
- **E < -1** → эластичный (снижение цены выгодно)
- **-1 < E < -0.5** → пограничная зона
- **E > -0.5** → неэластичный (можно повышать цену)

### 4. Дать рекомендации

На основе результатов:
- Для **эластичных** товаров → рекомендовать поэтапное снижение цены (5-10% за шаг)
- Для **неэластичных** → рекомендовать тестовое повышение цены
- Всегда показывать влияние на прибыль, не только на выручку
- Предупредить об ограничениях модели (экстраполяция, сезонность)

### 5. Показать графики

Открыть и показать пользователю релевантные графики из `PRJ_PRICING/reports/`.

## Дополнительные сценарии

### Расчёт цены для целевого объёма

Если пользователь спрашивает «какую цену поставить для Nx объёма»:
1. Использовать log-linear модель: `Q = e^a * P^E`
2. Калибровать по реальным данным (2 точки: мин и макс цена)
3. Рассчитать целевую цену и показать влияние на выручку, маржу, прибыль
4. Если целевая цена ниже себестоимости — предупредить

### Сравнение площадок

Если данные содержат несколько площадок (WB, Ozon) — показать разницу в эластичности между ними.

## Результаты сохранять в

`PRJ_PRICING/reports/` — графики и отчёты.
